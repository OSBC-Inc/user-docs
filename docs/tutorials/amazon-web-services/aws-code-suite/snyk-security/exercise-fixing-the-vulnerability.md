# 연습 - 취약점 수정

수정 조언에 따르면 `PrimeFaces` 종속성을 수정하고 버전 `6.1`에서 `6.2`로 업데이트해야 합니다.

개발자가 문제를 수정하고 체크인한 다음 파이프라인으로 다시 들어왔다고 가정해 보겠습니다. 이것은 변경하여 수행됩니다.

`~/environment/aws-modernization-workshop/modules/containerize-application/app/pom.xml`

_다음을 변경:_

```
<version.primefaces>6.1</version.primefaces>
```

_이렇게:_

```
<version.primefaces>6.2</version.primefaces>
```

이 명령을 실행하여 랩의 고정 버전을 복사합니다:

```
cp modules/snyk/pom.xml modules/containerize-application/app/
```

변경 사항을 저장_:_

```
git commit -am "Fix vulnerable open source dep."
```

_Push:_

```
git push -f codecommit master
```

이번에는 `Code Builder`를 확인하고 성공했습니다.

![](https://partner-workshop-assets.s3.us-east-2.amazonaws.com/snyk\_4b\_build.png)

```
Tested 37 dependencies for known vulnerabilities, no vulnerable paths found.
Next steps:
- Run `snyk monitor` to be notified about new related vulnerabilities.
```

취약점이 수정되고 빌드가 성공했습니다!

다음으로 **Snyk**이 `Docker Image`를 성공적으로 스캔했으며 Docker 컨테이너에 패키지 종속성 문제가 없음을 확인했습니다!

```
Container] 2018/11/09 03:54:14 Running command $PWDUTILS/snyk test --docker $REPOSITORY_URI:latest
Testing 300326902600.dkr.ecr.us-west-2.amazonaws.com/petstore_frontend:latest...
Organisation: sample-integrations
Package manager: rpm
Docker image: 300326902600.dkr.ecr.us-west-2.amazonaws.com/petstore_frontend:latest
✓ Tested 190 dependencies for known vulnerabilities, no vulnerable paths found.
```
