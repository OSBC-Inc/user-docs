# Snyk을 Heroku에 연결하기

Snyk이 배포된 Heroku 애플리케이션을 모니터링할 수 있으려면 먼저 Snyk을 Heroku 계정에 연결해야 합니다. [Integrations 페이지](https://app.snyk.io/integrations)로 이동한 후 “Connect to Heroku”를 클릭하면 됩니다.

![](../../../.gitbook/assets/uuid-e7c43047-5065-ad28-db37-1c56e8796a8b-en-1-%20\(2\)%20\(2\)%20\(2\)%20\(2\)%20\(5\)%20\(7\)%20\(2\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(22\).png)

다음으로 Heroku API 키를 입력하라는 메시지가 표시되는 페이지로 이동합니다. Heroku 사용자당 하나의 API 키만 있으므로 Snyk 조직에 대한 전용 사용자를 설정하는 것이 좋습니다.

![](../../../.gitbook/assets/uuid-b571c9a8-8f33-e6a1-bbb3-e37e482562bc-en.png)

Heroku API 키를 생성하고 찾는 방법은 다음과 같습니다.

## Heroku API 키 생성

Heroku 계정의 “Account Settings” 섹션에서 Heroku API 키를 찾아 생성할 수 있습니다.

또는 Heroku CLI를 사용하여 API 키를 생성하고 클립보드에 직접 복사할 수 있습니다.

`heroku auth:token | pbcopy`

여기서 Snyk 계정에 로그인하고 Heroku 인증 정보를 붙여넣을 수 있습니다.

## Heroku: 연결 상태 확인

Heroku 인증 정보를 입력한 후 언제든지 두 곳 중 한 곳에서 연결 상태를 확인할 수 있습니다.

첫 번째는 통합 설정 페이지에서 현재 통합과 연결 상태를 볼 수 있습니다.

![](../../../.gitbook/assets/uuid-fb1cad51-f7f5-34ae-1142-f24fab0b0751-en%20\(3\)%20\(3\)%20\(3\)%20\(3\)%20\(3\)%20\(3\)%20\(3\)%20\(3\)%20\(3\)%20\(3\)%20\(2\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(15\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(14\).png)

연결 상태는 Heroku 통합 설정 페이지에도 직접 표시됩니다.(위에 표시된 통합 설정 페이지에서 “Edit settings”를 클릭하여 확인할 수 있음.) 인증 정보를 입력한 경우 Snyk이 Heroku에 올바르게 연결할 수 있는지 여부를 나타내는 상자가 표시됩니다.

![](../../../.gitbook/assets/uuid-36c5692a-e30e-973d-2ad4-548e38b9af93-en.png)

연결할 수 없는 경우 계정 인증 정보를 다시 입력하여 올바른지 확인하십시오.

![](../../../.gitbook/assets/uuid-f49dfc90-5951-c28f-3efb-32709c051b56-en.png)

## Heroku에 Snyk 관련 사용자 추가

Heroku에서는 각 사용자가 하나의 API 키로 제한되므로 Snyk 조직에 대한 전용 사용자를 추가하는 것이 좋습니다. 이렇게 하면 어떤 이유로든 키를 해지해야 하는 경우 조직 내의 누구에게도 영향을 미치지 않고 해지할 수 있습니다.

이 작업은 Heroku 관리자 인터페이스를 통해 수행하거나 다음 명령을 사용하여 명령줄에서 수행할 수 있습니다.

`heroku access:add joe@example.com`

[Heroku documentation](https://devcenter.heroku.com/articles/collaborating)에서 다른 사용자를 애플리케이션에 추가하는 방법에 대해 자세히 알아볼 수 있습니다.

## Heroku 통합 비활성화

어떤 이유로든 이 통합을 비활성화하기로 결정한 경우 Settings의 Integrations 페이지에서 이 작업을 수행할 수 있습니다.

통합 목록에서 비활성화하려는 특정 통합을 찾아 Edit settings를 클릭해야 합니다. 아래 예와 같이 통합의 현재 상태, 각 통합(인증 정보, API 키, 서비스 주체 또는 연결 세부 정보)에 대한 인증 정보를 업데이트할 수 있는 장소 및 연결을 끊을 수 있는 하단의 빨간색 상자를 보여주는 페이지로 이동합니다.

![](../../../.gitbook/assets/uuid-b3a98f2c-4cc8-7753-8efa-396e9ec1e717-en-2-%20\(3\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(1\)%20\(23\).png)

연결 해제를 선택하면 인증 정보가 Snyk에서 제거되고 우리가 모니터링하던 통합 관련 프로젝트가 Snyk에서 비활성화됩니다.

언제든지 이 통합을 다시 활성화하려면 인증 정보를 다시 입력하고 프로젝트를 활성화해야 합니다.

## Snyk에 Heroku 프로젝트 추가

Snyk을 Heroku 계정에 성공적으로 연결했으면 Snyk이 모니터링할 Heroku 프로젝트를 선택할 수 있습니다. 통합 페이지의 “Add projects” 버튼을 사용하거나 Heroku 통합 설정 페이지에서 직접 이 작업을 수행할 수 있습니다.

두 경우 모두 연결한 Heroku 계정에서 사용 가능한 프로젝트 목록을 볼 수 있습니다. 모니터링할 항목을 선택하고 “add to Snyk” 버튼을 클릭합니다.

![](../../../.gitbook/assets/uuid-ad9e6940-96f8-4e22-787a-03d3e7cf99dd-en.png)

Snyk에 프로젝트를 추가하는 즉시 Snyk이 프로젝트를 테스트하고 [프로젝트 대시보드](https://app.snyk.io/projects)에 모니터링되는 모든 Heroku 애플리케이션 목록을 표시하기 시작합니다. 또한 현재 취약점의 스냅샷을 볼 수 있으며 수정 단계가 포함된 더 자세한 보고서를 클릭하여 볼 수 있습니다.

![](../../../.gitbook/assets/uuid-702795f8-5943-3dba-06a0-095d6bdc6f0c-en.png)

이제 Snyk은 알려진 취약점에 대해 각 프로젝트를 지속적으로 모니터링합니다. 언제든지 프로젝트를 추가할 수 있습니다.
