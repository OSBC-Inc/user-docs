# merge하기 전 PR의 취약성을 테스트

Snyk은 선호하는 Git 저장소와 통합하여 pull request(PR)를 제출할 때마다 매니페스트 파일에서 새로운 코드와 잠재적인 취약점을 스캔하여 메인 브랜치와 merge하기 전에 코드의 보안을 보호합니다.

기본적으로 Snyk는 모니터링되는 저장소에 제출된 모든 풀 요청을 검색하여 단일 보안 검사와 단일 라이선스 검사로 그룹화된 결과와 권장 사항을 표시합니다. Snyk 점검에 다음 상태가 나타날 수 있습니다:

* 성공 - 문제가 식별되지 않고 모든 검사를 통과합니다.
* 처리 중 - 이 상태는 Snyk 테스트가 끝날 때까지 나타납니다.
* 실패 - 확인을 통과하기 위해 수정해야 하는 문제가 식별된 경우
* 오류 - 매니페스트 파일이 동기화되지 않았거나 Snyk가 매니페스트 파일을 읽을 수 없거나 Snyk가 매니페스트 파일을 찾을 수 없는 경우 오류가 발생합니다.
* 취소됨 - 월별 테스트 한도에 도달했기 때문에 Snyk 테스트를 실행할 수 없습니다.

관리자는 조직 및 프로젝트 수준의 앱에서 Snyk PR 테스트에 대한 설정을 관리하여 기능이 켜져 있는지(기본적으로 활성화되어 있음) 및 Snyk가 PR 검사에 실패해야 하는 조건을 구성할 수 있습니다.

### 전제 조건

* 이미 Snyk 계정이 있어야 하고 특정 조직의 소유자 또는 관리자여야 하며 작업하려는 Git 저장소에 대한 통합을 이미 설정해야 합니다.

{% hint style="info" %}
프로젝트 수준의 설정이 조직 수준의 설정보다 우선합니다. 현재 GitHub, GitLab, Bitbucket 및 Azure 저장소와 통합하는 Git 저장소에서 지원하는 모든 언어를 지원합니다.
{% endhint %}

## 조직에 대한 pull request 테스트 설정 구성

1. 계정에 로그인하고 관리하려는 관련 그룹 및 조직으로 이동합니다.
2. settings ![](../../../.gitbook/assets/cog\_icon.png) 클릭 > **Integrations**.
3. 통합이 필요한 경우 **Edit Settings**를 클릭합니다.
4. **Default Snyk test for pull requests** 섹션으로 이동합니다.
5. 다음과 같이 드롭다운 목록에서 설정을 선택합니다:
   1. **PR이 문제가 있는 종속성을 추가하는 경우에만 실패합니다** - 풀 요청이 문제가 포함된 새 종속성을 추가하는 것을 목표로 하는 경우에만 pull request에 대한 라이센스 또는 보안 검사에 실패합니다.
   2. 저장소**에 문제가 있으면 실패합니다** - 저장소에 문제가 있는 경우 pull request에 대한 라이선스 또는 보안 검사에 실패합니다.
6. 다음과 같이 드롭다운 목록에서 관련 설정을 확인 표시합니다:
   1. **심각도가 높은 문제에 대해서만 실패** - 위의 드롭다운 목록에서 선택한 옵션에 따라 심각도가 높은 문제에 대해서만 검사에 실패합니다.
   2. **발견된 문제에 수정 사항이 있는 경우에만 실패** - 위의 드롭다운 목록에서 선택한 옵션에 따라 해당 문제에 대한 수정 사항이 있는 경우에만 문제 확인에 실패합니다.
7. **Update settings**를 클릭하여 설정을 업데이트하고 모든 향후 프로젝트와 현재 기본 설정을 사용 중인 모든 기존 프로젝트에 적용합니다. **Update settings & apply to existing projects**를 클릭하여 설정을 업데이트하고 사용자 지정된 프로젝트를 포함하여 모든 기존 및 새 프로젝트에 적용합니다.
8. 설정이 저장됩니다. 공동 작업자가 pull request를 제출할 때마다 Git 저장소 측면에서 구성한 설정과 결합된 이러한 설정을 기반으로 검사가 실행됩니다.

{% hint style="info" %}
관련 저장소의 pull 요청을 merge하려면 Snyk 상태 확인을 필수로 설정하는 것이 좋습니다. 이에 대한 추가 도움말은 Git 저장소 설명서를 참조하십시오.
{% endhint %}

### 프로젝트에 대한 pull request 테스트 설정 구성

1. 계정에 로그인하고 관리하려는 관련 그룹 및 조직으로 이동합니다.
2. settings ![](../../../.gitbook/assets/cog\_icon.png) > **Integrations** 클릭.
3. 통합이 필요한 경우 **Edit Settings**를 클릭합니다.
4. **Default Snyk test for pull requests** 섹션으로 이동합니다.
5. 선택:
   1. 조직 수준에서 설정된 설정을 사용하려면 프로젝트에 대한 **통합** 설정에서 상속
   2. **사용자 지정**을 클릭한 다음 슬라이더를 클릭하여 기능을 활성화합니다.
6. 표시되는 옵션에서 다음과 같이 드롭다운 목록에서 설정을 선택합니다:
   1. **PR이 문제가 있는 종속성을 추가하는 경우에만 실패합니다** - pull request가 문제가 포함된 새 종속성을 추가하는 것을 목표로 하는 경우에만 pull request에 대한 라이센스 또는 보안 검사에 실패합니다.
   2. **저장소에 문제가 있으면 실패합니다** - 저장소에 문제가 있는 경우 pull request에 대한 라이선스 또는 보안 검사에 실패합니다.
7. 다음과 같이 드롭다운 목록에서 관련 설정을 확인 표시합니다:
   1. **심각도가 높은 문제에 대해서만 실패** - 위의 드롭다운 목록에서 선택한 옵션에 따라 심각도가 높은 문제에 대해서만 검사에 실패합니다.
   2. **발견된 문제에 수정 사항이 있는 경우에만 실패** - 위의 드롭다운 목록에서 선택한 옵션에 따라 해당 문제에 대한 수정 사항이 있는 경우에만 문제 확인에 실패합니다.
8. **Update settings**를 클릭하여 설정을 업데이트하고 향후 모든 프로젝트에 적용합니다.
9. 설정이 저장됩니다. 공동 작업자가 이 특정 매니페스트 파일에 대한 풀 요청을 제출할 때마다 Git 저장소 측면에서 구성한 설정과 결합된 이러한 설정을 기반으로 검사가 실행됩니다.
